# QuickSearch

可用于快速查找文件及文件内容

在路径输入框内输入路径或者选择路径（ctrl+s）

然后输入想要查找的文件名或文件内容（暂不支持正则表达式）

可选择多线程，大小写敏感（暂支持这两种）

然后点击搜索（ctrl+enter）即可



若是 1GB 内文件搜索10M以内文件：

文件名大概仅需若干秒

文件内容大概不超过$10 s\sim20 s$



不建议直接搜索整个磁盘，因为那样挺耗时的，并且将导致CPU消耗过大（CPU $20\%\sim 45\%$)

实测

我的 120 GB D盘需要$120 s\sim 150 s$



不同的机器测试可能差距会很大



最大的原因就是因为我并未均匀的把任务分配给各个线程，因此就导致了部分极端情况会退化成单线程。

我现在的分配方式仅仅只是将根目录下一级的奇数分配给一个线程，偶数分配给另一个线程

这样的话，如果根目录下奇数文件夹大小总和远大于偶数文件夹大小总和，那么多线程就会退化成单线程。



暂未想到很好的解决方法，但目前这个速度搜索1GB以内的文件夹，已经十分够用了。



源代码需要用Qt Creator 打开.pro文件

运行程序直接点击.exe即可



注：

此文件无缓存文件！

如果需要建立文件内容索引的话会占用很多内存，因此我舍弃了这个方案。

并且也没有建立文件名字索引，以后版本也许会新增这个功能，因为这个索引只占用100MB不到。

现在这个版本非常适用于查找文件内容，因为本人经常需要在一大堆乱七八糟的代码中找到我想要找的东西

比如说VS下找到所有对应源码，博客文件夹下写的一些东西

实测：

在UE 4.26 （25~30万文件夹，34GB）下搜索长度为 3 的文件内容，并设置文件大小最大为1KB，大概用时18s，且CPU消耗不大；搜索文件内容仅需1s左右。





现版本功能：

- 查找文件名
- 查找文件内容
- 展示找到的文件，双击打开，单击显示具体信息
- 可根据文件名、路径或大小排序
- 支持大小写敏感，文件大小限制（仅对文件内容），多线程
- 每秒显示查找进度
- 拖拽文件夹到窗口可以设置搜索路径为文件夹绝对路径
- 以较快的速度进行搜索



新版本功能预计：

- 添加文件名字索引功能（鉴于文件可能会有变动，因此暂未找到好的解决方案）

- 鼠标悬浮预览文件内容以及标记搜索到的文件内容所在位置

  